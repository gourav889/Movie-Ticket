<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
    <title>Movie Ticket Booking Website</title>
    <style>
    .bookingbutton{
        position: relative;
                 left: 400px;
                 top: 150px;
                 background: #fd6565;
                 width: 100px;
                 height: 50px;
                 display: flex;
                border-radius: 30px;
                /* color: #fff; */
                transition: .3s linear;
                cursor: pointer;
                color: #fd6565;
                justify-content: center;
                align-items: center;
     
     }</style>
</head>
<body>
    <div class="book">
        <!-- <div class="left">
            <img src="jawan.jpg" alt="" id="poster">
            <div class="play">
                <i class="bi bi-play-fill" id="play"></i>
            </div>
            <div class="cont">
                <h6>Directed by</h6>
                <p>Atlee Kumar</p>
                <h6>Starring</h6>
                <p>	Shah Rukh Khan
                    Nayanthara
                    Vijay Sethupath</p>
                    <h6>Edited by</h6>
                    <p>	Ruben</p>
            </div>
        </div> -->
        <div class="right" id="SOCh">

           

            <div class="time">
                <h6 id="date"><i class="bi bi-clock"></i> 165 minutes</h6>
                <button>PG-13</button>
                <input type="date" id="select-date">
                <button id="save-date">Save Date</button>
              </div>

            <div class="date_type">
                <div class="left_card">
                    <h6 class="title">Thursday 4 May</h6>
                    <div class="card_month crd">
                        <li>
                            <h6>Mon</h6>
                            <h6 class="date_point">20</h6>
                        </li>
                        <li>
                            <h6>Tue</h6>
                            <h6 class="date_point">21</h6>
                        </li>
                        <li>
                            <h6>Wed</h6>
                            <h6 class="date_point">22</h6>
                        </li>
                        <li>
                            <h6>Thu</h6>
                            <h6 class="date_point">23</h6>
                        </li>
                        <li>
                            <h6>Fri</h6>
                            <h6 class="date_point">24</h6>
                        </li>
                        <li>
                            <h6>Sat</h6>
                            <h6 class="date_point">25</h6>
                        </li>
                        <li>
                            <h6>Sun</h6>
                            <h6 class="date_point">26</h6>
                        </li>
                        <li>
                            <h6>Mon</h6>
                            <h6 class="date_point">27</h6>
                        </li>
                        <li>
                            <h6>Tue</h6>
                            <h6 class="date_point">28</h6>
                        </li>
                        <li>
                            <h6>Wed</h6>
                            <h6 class="date_point">29</h6>
                        </li>
                        <li>
                            <h6>Thu</h6>
                            <h6 class="date_point">30</h6>
                        </li>
                        <li>
                            <h6>Fri</h6>
                            <h6 class="date_point">1</h6>
                        </li>
                        <li>
                            <h6>Sat</h6>
                            <h6 class="date_point">2</h6>
                        </li>
                        <li>
                            <h6>Sun</h6>
                            <h6 class="date_point">3</h6>
                        </li>
                    </div>
                </div>
                <div class="right_card">
                    <h6 class="title">Show Time</h6>
                    <div class="card_month crd">
                        <li>
                            <h6>2D</h6>
                            <h6>10:00</h6>
                        </li>
                        <li>
                            <h6>2D</h6>
                            <h6>12:30</h6>
                        </li>
                        <li>
                            <h6>2D</h6>
                            <h6>14:00</h6>
                        </li>
                        <li>
                            <h6>2D</h6>
                            <h6>17:00</h6>
                        </li>
                        <li>
                            <h6>2D</h6>
                            <h6>18:00</h6>
                        </li>
                        <li>
                            <h6>3D</h6>
                            <h6>20:00</h6>
                        </li>
                        <li>
                            <h6>3D</h6>
                            <h6>10:00</h6>
                        </li>
                        <li>
                            <h6>4DX</h6>
                            <h6>21:00</h6>
                        </li>
                        <li>
                            <h6>4DX</h6>
                            <h6>22:30</h6>
                        </li>
                        <li>
                            <h6>4DX</h6>
                            <h6 class="h6_active">12:00</h6>
                        </li>
                        <li>
                            <h6>4DX</h6>
                            <h6>12:30</h6>
                        </li>
                    </div>
                </div>
            </div>

            <div class="screen" id="screen">
                Screen
            </div>

            <!-- chairs  -->
            <div class="chair" id="chair">
                <div class="row">
                    <span>J</span>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <span>J</span>
                </div> 
            </div>


            <div class="chair" id="chair">
                <div class="row">
                    <span>J</span>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <span>J</span>
                </div> 
            </div>
            <div class="chair" id="chair">
                <div class="row">
                    <span>J</span>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <span>J</span>
                </div> 
            </div>
            <div class="chair" id="chair">
                <div class="row">
                    <span>J</span>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <!-- <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li> -->
                    <!-- <li class="seat">560</li>
                    <li class="seat">560</li> -->
                    <span>J</span>
                </div> 
            </div>
            <div class="chair" id="chair">
                <div class="row">
                    <span>J</span>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <li class="seat">560</li>
                    <span>J</span>
                </div> 
            </div>

            <!-- Ticket  -->

            <div class="ticket" id="ticket">
                 <div class="tic">
                    <div class="barcode">
                        <div class="card">
                            <h6>ROW J</h6>
                            <h6>7 September 2023</h6>
                        </div>
                        <div class="card">
                            <h6>Seat 18</h6>
                            <h6>23:00</h6>
                        </div>

                        <svg id="barcode"></svg>
                        <h5>VEGUS CINEMA</h5>
                    </div>
                    <div class="tic_details">
                        <div class="type">4DX</div>
                        <h5 class="pvr"><span>Vegus</span> Cinema</h5>
                        <h1>Jawan</h1>
                        <div class="seat_det">
                            <div class="seat_cr">
                                <h6>ROW</h6>
                                <h6>J</h6>
                            </div>
                            <div class="seat_cr">
                                <h6>SEAT</h6>
                                <h6>18</h6>
                            </div>
                            <div class="seat_cr">
                                <h6>DATE</h6>
                                <h6>7 <sub>sep</sub></h6>
                            </div>
                            <div class="seat_cr">
                                <h6>TIME</h6>
                                <h6>11:30 <sub>pm</sub></h6>
                            </div>
                        </div>
                    </div>
                </div> 
            </div><a href="./Salarticket.html?"><button type="button" class="bookingbutton" style='background-color :#fd6565; color: white;' onclick="loadPage()">Book Now</button></a>
            <!-- Details  -->
            <div class="details" id="det">
                <div class="details_chair">
                    <li>Avalable</li>
                    <li>Booked</li>
                    <li>Selected</li>
                </div>
            </div>
            <button class="book_tic" id="book_ticket">
                <i class="bi bi-arrow-right-short"></i>
            </button>
            <button class="book_tic" id="back_ticket">
                <i class="bi bi-arrow-left-short"></i>
            </button>
        </div>
    </div>
    <div id="content"></div>
    <script src="app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsbarcode/3.11.5/JsBarcode.all.js" integrity="sha512-wkHtSbhQMx77jh9oKL0AlLBd15fOMoJUowEpAzmSG5q5Pg9oF+XoMLCitFmi7AOhIVhR6T6BsaHJr6ChuXaM/Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
function loadPage() {
  fetch('jawamt.html')
    .then(response => response.text())
    .then(html => {
      document.documentElement.innerHTML = html;

      // Re-attach the 'DOMContentLoaded' event listener after loading jawamt.html
      document.addEventListener('DOMContentLoaded', () => {
        let count = localStorage.getItem('selectedSeats');

        if (count) {
          document.querySelector('#selectedSeatsCount').innerText = `Seat: ${count} Seat Selected`;
        } else {
          // Handle the case when there's no count in localStorage
          document.querySelector('#selectedSeatsCount').innerText = 'No seats selected'; 
        }
      }); 
    })
    .catch(error => {
      console.warn(error);
    });
}



let seats = document.querySelectorAll('.seat');
let count = 0;

seats.forEach(seat => {
    seat.addEventListener('click', () => {
        seat.classList.toggle('selected');
        if (seat.classList.contains('selected')) {
            count++;
            console.log(count);
        } else {
            count--;
        }
        localStorage.setItem('selectedSeats', count);
    });
});
console.log(count);
        JsBarcode("#barcode", "J18800792023");
        let params = new URLSearchParams(window.location.search);
// Get the image source from the parameters
let imgSrc = params.get('img');

// Select the anchor tag
let anchorTag = document.querySelector('a');

// Append the imgSrc value to the href attribute of the anchor tag
anchorTag.href = `./Salarticket.html?img=${imgSrc}`;
console.log(imgSrc);
if (imgSrc !== null) {
    // Select the image in the .logo div
    let logoImg = document.querySelector('.logo img');

    // Set the source of the image
    logoImg.src = imgSrc;

    // Select the image with id 'poster'
    let posterImg = document.getElementById('poster');

    // Set the source of the image
    posterImg.src = imgSrc;
}
// Create a new Date object

window.onload = function() {
  let selectDate = document.getElementById('select-date');
  let saveDate = document.getElementById('save-date');
console.log(selectDate, saveDate);
  saveDate.addEventListener('click', function() {
    let selectedDate = selectDate.value;
    localStorage.setItem('selectedDate', selectedDate);
  });
};

    </script>
</body>
</html>